{"name":"minicron","tagline":"A system to manage and monitor cron jobs.","body":"minicron\r\n=======\r\n\r\n[![Gem Version](http://img.shields.io/gem/v/minicron.svg)](https://rubygems.org/gems/minicron)\r\n[![Build Status](http://img.shields.io/travis/jamesrwhite/minicron.svg)](http://travis-ci.org/jamesrwhite/minicron)\r\n[![Coverage Status](http://img.shields.io/coveralls/jamesrwhite/minicron.svg)](https://coveralls.io/r/jamesrwhite/minicron?branch=master)\r\n[![Code Climate](http://img.shields.io/codeclimate/github/jamesrwhite/minicron.svg)](https://codeclimate.com/github/jamesrwhite/minicron)\r\n[![Dependency Status](http://img.shields.io/gemnasium/jamesrwhite/minicron.svg)](https://gemnasium.com/jamesrwhite/minicron)\r\n[![Inline docs](http://inch-pages.github.io/github/jamesrwhite/minicron.png)](http://inch-pages.github.io/github/jamesrwhite/minicron)\r\n\r\nminicron aims to complement ````cron```` by making it easier to manage and monitor cron jobs, it can largely be\r\nthought of as two components that interact together, the CLI and the Hub. The CLI is what is installed on your\r\nserver(s) and executes your cron command and reports the status back to the Hub. The Hub is the central point\r\nwhere data from one or many instances of the CLI are is recieved and stored in a database. The Hub also provides\r\na web interface to the data and makes it easy to manage your cron jobs.\r\n\r\n- [Background](https://github.com/jamesrwhite/minicron/blob/master/README.md#background)\r\n- [Features](https://github.com/jamesrwhite/minicron/blob/master/README.md#goals)\r\n- [Requirements](https://github.com/jamesrwhite/minicron/blob/master/README.md#requirements)\r\n- [Installation](https://github.com/jamesrwhite/minicron/blob/master/README.md#installation)\r\n- [Usage](https://github.com/jamesrwhite/minicron/blob/master/README.md#usage)\r\n- [Documentation](https://github.com/jamesrwhite/minicron/blob/master/README.md#documentation)\r\n- [Versioning](https://github.com/jamesrwhite/minicron/blob/master/README.md#versioning)\r\n- [Contributing](https://github.com/jamesrwhite/minicron/blob/master/README.md#contributing)\r\n- [Support](https://github.com/jamesrwhite/minicron/blob/master/README.md#support)\r\n- [License](https://github.com/jamesrwhite/minicron/blob/master/README.md#license)\r\n\r\nBackground\r\n-----------\r\n\r\nI'm developing minicron as part of my dissertation at university which is due in May but I plan to continue\r\ndevelopment after that. My inspiration for developing minicron comes from time spent working at\r\n[Miniclip](http://www.miniclip.com) where the management and monitoring of cron jobs at times proved to be tricky!\r\n\r\nFeatures\r\n---------\r\n\r\n- Web UI\r\n  - CRUD for cron jobs using ssh\r\n  - GUI for cron schedule create/read/update\r\n  - View realtime output/status as jobs run\r\n  - Historical data for all job executions\r\n- Alerts when jobs executions are missed or fail via:\r\n  - Email\r\n  - SMS ([using Twilio](https://www.twilio.com))\r\n  - [PagerDuty](www.pagerduty.com)\r\n\r\nLots more is planned for the future, see issues tagged [feature](https://github.com/jamesrwhite/minicron/issues?labels=feature&milestone=&page=1&state=open).\r\n\r\nRequirements\r\n-------------\r\n\r\n#### Ruby\r\n- **MRI**: 1.9.3 and above (tested on 1.9.3, 2.0.0, 2.1.0)\r\n- <del>**Rubinius**: Travis builds are run on the latest release</del> [*awaiting bug fix*](https://github.com/rubinius/rubinius/issues/2944)\r\n- **JRuby:** currently untested but most likely needs some workn\r\n\r\n#### Database\r\n\r\n- MySQL\r\n- Support for PostgreSQL and SQlite is planned in the future\r\n\r\n#### Web Server / Reverse Proxy\r\n\r\nIf you want to run minicron behind a web server or proxy it needs to support the web socket protocol.\r\nnginx for example supports web sockets from version 1.3.13 and up. I've included an [example config](https://github.com/jamesrwhite/minicron/blob/master/sample.nginx.conf) for nginx.\r\n\r\n#### Browser\r\n\r\nI have been testing the web interface in the latest versions of Chrome, Firefox and Safari.\r\nI'm currently unsure of how it functions in the various of Internet Explorer but in theory it should support IE9+\r\n\r\n#### OS\r\n\r\nShould run on any linux/bsd based OS that the above ruby versions run on.\r\n\r\nInstallation\r\n-------------\r\n\r\nminicron is currently under heavy development and as such I would not recommend that you use this in production yet\r\nbut I encourage you to give it a try in a non critical environment and help me to improve it.\r\n\r\n1. First check you meet the [requirements](https://github.com/jamesrwhite/minicron/blob/master/README.md#requirements)\r\n\r\n2. On some distributions you may need to install the ````ruby-dev```` and ````build-essential```` packages\r\n\r\n3. To install the latest release (currently 0.2) you can ````gem install minicron````, depending on your ruby setup\r\n   you may need to run this with ````sudo````\r\n\r\n4. Set your database configuration options in ````/etc/minicron.toml````, you can use the [default.config.toml](https://github.com/jamesrwhite/minicron/blob/master/default.config.toml) as a guide on what options are configurable\r\n\r\n5. Make sure you have created an empty database with the name you set in ````/etc/minicron.toml````\r\n\r\n  > **WARNING**\r\n  >\r\n  > the step below will drop any existing tables in the configured database and create new ones i.e:\r\n  > ````sql\r\n  > DROP TABLE IF EXISTS jobs; CREATE TABLE jobs ..\r\n  > ````\r\n\r\n6. You can then ````minicron db setup```` to create the database schema, alternatively you can use\r\n   the [schema dump provided](https://github.com/jamesrwhite/minicron/blob/master/lib/minicron/hub/db/schema.sql)\r\n\r\n7. Done! See the usage section below for more details on how to use minicron now you have it installed\r\n\r\nUsage\r\n-----\r\n\r\n#### Run a command\r\n\r\n````bash\r\nminicron run 'mysqldump db > backup.sql'\r\n````\r\n\r\nThe global ````--verbose```` option can also be passed to the ````run```` argument like so\r\n\r\n````bash\r\nminicron run --verbose ls\r\n````\r\n\r\nYou can also run a command in 'dry run' mode to test if it works without sending the output to the server.\r\n\r\n````bash\r\nminicron run --dry-run 'zip -r backup.zip website'\r\n````\r\n\r\nfor further information see ````minicron help run````.\r\n\r\n#### Get help\r\n\r\nRunning ````minicron```` with no arguments is an alias to running ````minicron help````, ````minicron -h```` or ````minicron --help````.\r\nYou can also use the help argument to get information on any command as shown above in the run a command section\r\nor alternatively you can pass the ````-h```` or ````--help```` options like so ````minicron run -h````.\r\n\r\n#### Server\r\n\r\nTo launch the server (aka the Hub) run\r\n\r\n````bash\r\nminicron server start\r\n````\r\n\r\nby default it will bind to port 9292 on the host 127.0.0.1 but this can be configured by the command line\r\narguments ````--host```` ````--port```` and ````--path```` or in the config file.\r\n\r\nBy default the server will run as a daemon with its process id stored in ````/tmp/minicron.pid````\r\nyou can also use the ````stop```` ````restart```` and ````status```` commands to control the server.\r\n\r\nTo run the server in debug mode, i.e not as a daemon so you can see its output you can pass the ````--debug````\r\noption.\r\n\r\nSee [sample.nginx.conf](https://github.com/jamesrwhite/minicron/blob/master/sample.nginx.conf) for an example of\r\nhow to run minicron behind a reverse proxy.\r\n\r\n#### Connecting to a host via SSH\r\n\r\nTo be able to perform CRUD operations on the crontab minicron needs to connect via SSH to the host.\r\nWhen you set up a host minicron automatically creates a public/private key pair for you and stores it\r\nin ````~/.ssh```` on the host the minicron server is being run on using the naming schema ````minicron_host_*HOST_ID*_rsa(.pub)````.\r\nTo be able edit the crontab on a host minicron *needs* to connect to the host as the root user so you will\r\nneed to to copy the public key to the hosts authorized_keys file e.g ````/root/.ssh/authorized_keys```` on\r\nmost linux distributions or ````/var/root/.ssh/authorized_keys```` on OSX.\r\n\r\n#### Version\r\n\r\nLike many command line programs minicron will show it's version number when the global options ````-v````\r\nor ````--version```` are passed to the CLI.\r\n\r\n#### Configuration\r\n\r\nSome configuration options can be passed in manually but the recommend way to configure minicron is through the use\r\nof a config file. You can specify the path to the file using the ````--config```` global option. The file is expected\r\nto be in the [toml](https://github.com/mojombo/toml \"toml\") format. The default options are specified in the\r\n[default.config.toml](https://github.com/jamesrwhite/minicron/blob/master/default.config.toml \"default.config.toml\")\r\nfile and minicron will parse a config located in ````/etc/minicron.toml```` if it exists. Options specified via\r\nthe command line will take precedence over those taken from a config file.\r\n\r\nDocumentation\r\n-------------\r\n\r\nminicron uses [Yard](http://yardoc.org/ \"Yard\") for it's code documentation, you can either generate it and view\r\nit locally using the following commands:\r\n\r\n````bash\r\nyard doc\r\nyard server\r\n````\r\n\r\nor view the most up to date version online at [RubyDoc.info](http://rdoc.info/github/jamesrwhite/minicron/master/frames \"RubyDoc.info\").\r\n\r\nVersioning\r\n-----------\r\n\r\nWhere possible all releases will follow the [semantic versioning](http://semver.org/) guidelines.\r\n\r\nReleases will be numbered with the following format:\r\n\r\n`<major>.<minor>.<patch>`\r\n\r\nBased on the following guidelines:\r\n\r\n* A new *major* release indicates a large change where backwards compatibility is broken.\r\n* A new *minor* release indicates a normal change that maintains backwards compatibility.\r\n* A new *patch* release indicates a bugfix or small change which does not affect compatibility.\r\n\r\nContributing\r\n------------\r\n\r\nFeedback and pull requests are welcome, please see [CONTRIBUTING.md](https://github.com/jamesrwhite/minicron/blob/master/CONTRIBUTING.md \"CONTRIBUTING.md\") for more info.\r\n\r\nAreas that I would love some help with:\r\n\r\n- Any of the unassigned [issues here](https://github.com/jamesrwhite/minicron/issues?state=open).\r\n- General testing of the system, let me know what you think and create issues for any bugs you find!\r\n- Tests!!\r\n- Validation and error handling improvements\r\n- Documentation improvements. Find something confusing or unexpected, let me know and I'll add or improve\r\n  documentation for it!\r\n- Look for '[TODO:](https://github.com/jamesrwhite/minicron/search?q=TODO%3A)' notices littered around the code,\r\n  I'm trying to convert them all to issues but there are a lot..\r\n- Code refactoring, I had a reasonably tight deadline to have the main concept done by so some parts are a bit rushed\r\n- UI improvements\r\n\r\nSupport\r\n--------\r\n\r\nWhere possible I will try and provide support for minicron, you can get in touch with me via:\r\n\r\n- Twitter [@jamesrwhite](https://twitter.com/jamesrwhite)\r\n- Email [dev.jameswhite+minicron@gmail.com](mailto:dev.jameswhite+minicron@gmail.com)\r\n\r\nOr feel free to open an issue and I'll do my best to help.\r\n\r\nLicense\r\n--------\r\n\r\nminicron is licensed under the GPL v3, [see here for the full license](https://github.com/jamesrwhite/minicron/blob/master/LICENSE \"see here\")\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}